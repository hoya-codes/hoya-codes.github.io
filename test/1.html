<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        video{width: 100%}
    </style>
</head>
<body>

<video
  id="mainPcVideo"
  class="video-js main-video loaded"
  src="https://dxvwb5n2xjot.cloudfront.net/pc-cut/pc-cut.mp4"
  loop
  muted
  playsinline
  preload="auto"
></video>

<button id="playButton" onclick="playVideo()" style="">Play Video</button>

<script>
  // 인스타 인앱 브라우저인지 확인하는 함수
  function isInAppBrowser() {
    const ua = navigator.userAgent || navigator.vendor || window.opera;
    return /Instagram|FBAV/i.test(ua);
  }

  // 사용자 상호작용을 통한 재생
  function playVideo() {
    const video = document.getElementById("mainPcVideo");
    video.play().catch(error => {
      console.error("Video play error:", error);
    });
  }

  document.addEventListener("DOMContentLoaded", function () {
    const video = document.getElementById("mainPcVideo");
    const playButton = document.getElementById("playButton");

    if (isInAppBrowser()) {
      // 인스타 인앱 브라우저에서 autoplay가 작동하지 않으면, 버튼을 통해 재생
      playButton.style.display = "block";
      video.removeAttribute("autoplay"); // autoplay 속성 제거
    } else {
      // 일반 브라우저에서는 autoplay로 재생 시도
      video.play().catch(error => {
        console.warn("Autoplay blocked, showing play button.");
        playButton.style.display = "block";
      });
    }
  });
</script>



<!--<video id="mainPcVideo" class="video-js main-video loaded" src="https://dxvwb5n2xjot.cloudfront.net/pc-cut/pc-cut.mp4" loop="" muted="" autoplay="" playsinline=""></video>-->
</body>
</html>